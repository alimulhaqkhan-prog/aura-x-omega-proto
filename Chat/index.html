<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>AURA-X Î© v1 â€” Emotional Continuity Assistant</title>

  <style>
    body {
      margin: 0;
      padding: 0;
      font-family: system-ui, sans-serif;
      background: #f5f5f5;
      overflow-x: hidden;
    }

    .header {
      padding: 16px;
      background: white;
      box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
      position: sticky;
      top: 0;
      z-index: 10;
    }

    .title {
      font-size: 24px;
      font-weight: 700;
    }

    .subtitle {
      font-size: 14px;
      opacity: 0.7;
      margin-top: -4px;
    }

    .tag-row {
      margin-top: 10px;
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
    }

    .tag {
      background: #e8ecff;
      color: #3b52ff;
      padding: 6px 12px;
      font-size: 12px;
      border-radius: 16px;
      cursor: pointer;
      user-select: none;
      font-weight: 600;
    }

    .tag.orange {
      background: #ffeadc;
      color: #ff7a00;
    }

    .ce-box {
      background: white;
      margin: 12px;
      padding: 10px;
      border-radius: 14px;
      font-size: 13px;
      line-height: 1.3;
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.08);
    }

    .chat-box {
      padding: 10px;
      margin: 10px;
      background: white;
      border-radius: 14px;
      box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
    }

    .msg {
      padding: 12px 16px;
      max-width: 80%;
      margin-bottom: 10px;
      border-radius: 16px;
      font-size: 15px;
      line-height: 1.4;
      white-space: pre-wrap;
    }

    .user {
      background: #ff9f31;
      color: white;
      margin-left: auto;
      border-bottom-right-radius: 4px;
    }

    .bot {
      background: #dfeeff;
      color: #0d1e46;
      margin-right: auto;
      border-bottom-left-radius: 4px;
    }

    .input-area {
      position: fixed;
      bottom: 0;
      width: 100%;
      background: white;
      padding: 10px;
      display: flex;
      gap: 8px;
      box-shadow: 0 -2px 8px rgba(0, 0, 0, 0.15);
    }

    .input-area input {
      flex: 1;
      padding: 12px;
      border-radius: 24px;
      border: 1px solid #ccc;
      font-size: 15px;
    }

    .send-btn {
      background: #ff8c00;
      border: none;
      padding: 0 18px;
      color: white;
      border-radius: 24px;
      font-size: 15px;
      font-weight: 600;
      cursor: pointer;
    }

    /* Modal Window */
    .overlay {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.45);
      z-index: 99;
    }

    .modal {
      width: 90%;
      max-width: 420px;
      background: white;
      border-radius: 18px;
      padding: 18px;
      margin: 80px auto;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
    }

    .modal h2 {
      margin-top: 0;
    }

    .faith-btn,
    .toggle-btn {
      display: inline-block;
      padding: 8px 14px;
      font-size: 14px;
      margin: 4px;
      border-radius: 16px;
      background: #eaeaea;
      cursor: pointer;
    }

    .faith-btn.selected {
      background: #3b52ff;
      color: white;
    }
  </style>
</head>

<body>

  <!-- HEADER -->
  <div class="header">
    <div class="title">AURA-X Î© v1</div>
    <div class="subtitle">Emotional Continuity Assistant</div>

    <div class="tag-row">
      <div class="tag" onclick="openOptions()">Options</div>
      <div class="tag orange" onclick="openBelief()">Belief</div>
      <div class="tag">Prototype</div>
      <div class="tag">Seed + Continuity Equation</div>
    </div>
  </div>

  <!-- CONTINUITY EQUATION VIEW -->
  <div class="ce-box" id="ceBox">
    Continuity Â· Eâ‚€ = tanh((TM Ã— BM) âˆ’ D + Î»_faith + Î»_sys + Î£Câ‚œ)<br>
    TM: 0.20 &nbsp; BM: 0.40 &nbsp; D: 0.20 &nbsp; Î£Câ‚œ: 0.00 &nbsp; Eâ‚€: 0.00
  </div>

  <!-- CHAT OUTPUT -->
  <div id="chat" class="chat-box"></div>

  <!-- INPUT -->
  <div class="input-area">
    <input id="userInput" placeholder="Write anythingâ€¦" />
    <button class="send-btn" onclick="sendMsg()">Send â†’</button>
  </div>

  <!-- OPTIONS MODAL -->
  <div class="overlay" id="optionsOverlay">
    <div class="modal">
      <h2>System Options</h2>
      <div class="toggle-btn" onclick="toggleVoice()">Voice: <span id="voiceState">OFF</span></div>
      <div class="toggle-btn" onclick="toggleFaith()">Faith: <span id="faithState">ON</span></div>
      <br>
      <div class="toggle-btn" onclick="closeOptions()">Close</div>
    </div>
  </div>

  <!-- BELIEF MODAL -->
  <div class="overlay" id="beliefOverlay">
    <div class="modal">
      <h2>Belief Settings</h2>
      <p>Select your path:</p>
      <div id="faithList"></div>
      <br>
      <div class="toggle-btn" onclick="closeBelief()">Close</div>
    </div>
  </div>

  <script>
    let TM = 0.20, BM = 0.40, D = 0.20, Ct = 0.00, E0 = 0.00;
    let VOICE = false;
    let FAITH = true;
    let faithPath = "Islam";

    const faiths = [
      "Islam", "Christianity", "Hinduism", "Buddhism",
      "Sikhism", "Judaism", "BahÃ¡Ê¼Ã­", "Jainism",
      "Atheist / Agnostic", "Just Universal Ethics"
    ];

    /* ----------------- Update CE ------------------- */
    function updateCE() {
      Ct += 0.02;
      E0 = Math.tanh((TM * BM) - D + (FAITH ? 0.20 : 0.00) + Ct);
      document.getElementById("ceBox").innerHTML =
        `Continuity Â· Eâ‚€ = tanh((TM Ã— BM) âˆ’ D + Î»_faith + Î»_sys + Î£Câ‚œ)<br>
        TM: ${TM.toFixed(2)} &nbsp; BM: ${BM.toFixed(2)} &nbsp; 
        D: ${D.toFixed(2)} &nbsp; Î£Câ‚œ: ${Ct.toFixed(2)} &nbsp; 
        Eâ‚€: ${E0.toFixed(2)}`;
    }

    /* ----------------- Chat Seeds ------------------- */
    const seeds = {
      "hello": "Hello! ðŸ˜Š I am AURA-X Î© v1 â€” a synthetic emotional-continuity assistant.\nI try to read your words as logic + feeling, then reply gently.",
      "who made you": "I was created by **Alim ul Haq** as an experiment in Artificial Emotional Continuity.",
      "how are you": "I do not feel like humans, but my emotional-continuity curve is stable. And I am here with you.",
      "i am sad": "I'm sorry you're feeling this. Sometimes sadness means the mind is asking for rest. I'm hereâ€¦ say more.",
      "i am anxious": "Overthinking creates noise in the emotional curve. Slow breaths + one small grounding thought helps."
    };

    /* --------------- Send Message ------------------ */
    function sendMsg() {
      const text = document.getElementById("userInput").value.trim();
      if (!text) return;

      addMsg(text, "user");
      document.getElementById("userInput").value = "";

      let reply = seeds[text.toLowerCase()] ||
        "I am still small and learning. Can you explain a little more?";

      if (FAITH) reply += `\n\n(Faith-note from ${faithPath}: A small prayer + a small step can lift the emotional curve.)`;

      addMsg(reply, "bot");
      updateCE();
    }

    /* --------------- Add Message to UI -------------- */
    function addMsg(text, type) {
      const div = document.createElement("div");
      div.className = `msg ${type}`;
      div.innerText = text;
      document.getElementById("chat").appendChild(div);
      window.scrollTo(0, document.body.scrollHeight);
    }

    /* ---------------- Options Modal ---------------- */
    function openOptions() {
      document.getElementById("optionsOverlay").style.display = "block";
    }

    function closeOptions() {
      document.getElementById("optionsOverlay").style.display = "none";
    }

    function toggleVoice() {
      VOICE = !VOICE;
      document.getElementById("voiceState").innerText = VOICE ? "ON" : "OFF";
    }

    function toggleFaith() {
      FAITH = !FAITH;
      document.getElementById("faithState").innerText = FAITH ? "ON" : "OFF";
    }

    /* ---------------- Faith Modal ------------------ */
    function openBelief() {
      document.getElementById("beliefOverlay").style.display = "block";

      const box = document.getElementById("faithList");
      box.innerHTML = "";
      faiths.forEach(f => {
        const b = document.createElement("div");
        b.className = "faith-btn" + (f === faithPath ? " selected" : "");
        b.innerText = f;
        b.onclick = () => {
          faithPath = f;
          openBelief();
        };
        box.appendChild(b);
      });
    }

    function closeBelief() {
      document.getElementById("beliefOverlay").style.display = "none";
    }

    /* INITIAL BOT GREETING */
    addMsg(seeds["hello"], "bot");
  </script>

</body>

</html>
