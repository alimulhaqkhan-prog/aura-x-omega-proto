<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>AURA-X Œ© ‚Äì Emotional Reactor</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />

  <style>
    /* ===== Base Layout ===== */
    html, body {
      margin: 0;
      padding: 0;
      height: 100%;
    }

    body {
      background: #020617;
      color: #e5e7eb;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      display: flex;
      align-items: center;
      justify-content: center;
      overflow: hidden;
    }

    #app {
      position: relative;
      width: 100%;
      max-width: 480px;
      height: 100vh;
      box-sizing: border-box;
      padding: 16px;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      transform-origin: top center;
    }

    @media (max-height: 720px) {
      #app { transform: scale(0.9); }
    }

    @media (max-height: 640px) {
      #app { transform: scale(0.82); }
    }

    .hidden { display: none; }

    /* ===== Main Card ===== */
    .card {
      position: relative;
      width: 100%;
      background: radial-gradient(circle at top, #0f172a, #020617 70%);
      border-radius: 28px;
      padding: 20px 18px 18px;
      box-shadow:
        0 18px 45px rgba(15, 23, 42, 0.9),
        0 0 0 1px rgba(148, 163, 184, 0.20);
      box-sizing: border-box;
    }

    .card-header {
      text-align: center;
      margin-bottom: 12px;
    }

    .title {
      font-size: 26px;
      letter-spacing: 0.18em;
      color: #facc15;
      font-weight: 700;
      margin-bottom: 4px;
    }

    .subtitle {
      font-size: 11px;
      letter-spacing: 0.18em;
      text-transform: uppercase;
      color: #9ca3af;
    }

    /* ===== Sun / Moon Orb ===== */
    .orb-wrapper {
      position: relative;
      margin: 18px auto 10px;
      width: 160px;
      height: 160px;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .orb {
      width: 140px;
      height: 140px;
      border-radius: 999px;
      background: radial-gradient(circle at 30% 30%, #fde68a, #f59e0b 55%, #b45309 100%);
      box-shadow:
        0 0 40px rgba(250, 204, 21, 0.7),
        0 0 80px rgba(234, 179, 8, 0.4);
      animation: orbPulse 4s ease-in-out infinite;
      cursor: pointer;
    }

    .orb.moon {
      background: radial-gradient(circle at 30% 30%, #e5f3ff, #60a5fa 60%, #1d4ed8 100%);
      box-shadow:
        0 0 38px rgba(96, 165, 250, 0.7),
        0 0 76px rgba(30, 64, 175, 0.45);
    }

    .orb.moon-static {
      background: radial-gradient(circle at 30% 30%, #dbeafe, #3b82f6 60%, #1e3a8a 100%);
      box-shadow:
        0 0 22px rgba(59, 130, 246, 0.45);
      animation: none;
    }

    @keyframes orbPulse {
      0%   { transform: scale(1);   box-shadow: 0 0 40px rgba(250, 204, 21, 0.7), 0 0 70px rgba(234, 179, 8, 0.35); }
      50%  { transform: scale(1.06); box-shadow: 0 0 55px rgba(250, 204, 21, 0.9), 0 0 90px rgba(234, 179, 8, 0.5); }
      100% { transform: scale(1);   box-shadow: 0 0 40px rgba(250, 204, 21, 0.7), 0 0 70px rgba(234, 179, 8, 0.35); }
    }

    /* ===== Side Buttons ===== */
    .side-buttons {
      position: absolute;
      top: 43%;               /* moved upward */
      transform: translateY(-50%);
      display: flex;
      flex-direction: column;
      gap: 10px;
      z-index: 3;
    }

    .side-buttons.left {
      left: 32px;
    }

    .side-buttons.right {
      right: 32px;
    }

    .circle-btn {
      width: 46px;
      height: 46px;
      border-radius: 999px;
      border: 1px solid rgba(148, 163, 184, 0.55);
      background: radial-gradient(circle at 30% 20%, #111827, #020617 65%);
      display: flex;
      align-items: center;
      justify-content: center;
      color: #e5e7eb;
      font-size: 18px;
      cursor: pointer;
      box-shadow:
        0 8px 18px rgba(15, 23, 42, 0.9),
        0 0 0 1px rgba(15, 23, 42, 0.6);
      transition: transform 0.12s ease-out, box-shadow 0.12s ease-out,
                  background 0.12s ease-out, color 0.12s ease-out;
    }

    .circle-btn:hover {
      transform: translateY(-1px);
      box-shadow:
        0 12px 22px rgba(15, 23, 42, 0.95),
        0 0 0 1px rgba(148, 163, 184, 0.7);
    }

    .circle-btn.active {
      box-shadow:
        0 0 0 1px rgba(34, 197, 94, 0.85),
        0 0 25px rgba(34, 197, 94, 0.65);
      color: #bbf7d0;
    }

    .circle-btn.settings-icon::before {
      content: "‚öô";
      font-size: 20px;
    }

    /* ===== Mode, Answer, Ethics Text ===== */
    .mode-line {
      text-align: center;
      font-size: 13px;
      color: #9ca3af;
      margin-top: 6px;
      margin-bottom: 4px;
    }
    .mode-line span {
      color: #facc15;
      font-weight: 600;
    }

    .you-said {
      text-align: center;
      font-size: 13px;
      color: #cbd5f5;
      margin-bottom: 6px;
    }

    .answer-text {
      text-align: center;
      font-size: 15px;
      color: #f9fafb;
      margin-bottom: 10px;
      min-height: 20px;
    }

    .ethics-box {
      margin-top: 4px;
      background: rgba(250, 204, 21, 0.08);
      border-radius: 16px;
      padding: 10px 12px;
      font-size: 12px;
      color: #e5e7eb;
      border: 1px solid rgba(250, 204, 21, 0.35);
    }

    .ethics-box strong {
      color: #facc15;
      font-weight: 600;
    }

    /* ===== Equation Box ===== */
    .equation-box {
      margin-top: 12px;
      padding: 9px 11px;
      border-radius: 16px;
      border: 1px dashed rgba(148, 163, 184, 0.7);
      background: radial-gradient(circle at top left, rgba(15, 23, 42, 0.9), rgba(15, 23, 42, 0.5));
      font-size: 11px;
      color: #d1d5db;
    }

    .equation-title {
      font-size: 11px;
      letter-spacing: 0.08em;
      text-transform: uppercase;
      color: #9ca3af;
      margin-bottom: 4px;
    }

    .equation-line {
      margin-top: 2px;
    }

    /* ===== Input Row ===== */
    .input-row {
      margin-top: 14px;
      display: flex;
      align-items: center;
      gap: 10px;
      width: 100%;
    }

    .input-box {
      flex: 1;
      border-radius: 999px;
      padding: 11px 18px;
      border: 1px solid rgba(55, 65, 81, 0.9);
      background: radial-gradient(circle at top left, #020617, #020617 45%, #020617 100%);
      color: #e5e7eb;
      font-size: 14px;
      outline: none;
    }

    .input-box::placeholder {
      color: #9ca3af;
      font-style: italic;
    }

    .send-btn {
      border: none;
      border-radius: 999px;
      padding: 11px 24px;
      font-size: 15px;
      font-weight: 600;
      cursor: pointer;
      background: radial-gradient(circle at top left, #facc15, #f59e0b);
      color: #111827;
      box-shadow:
        0 14px 30px rgba(161, 98, 7, 0.9),
        0 0 0 1px rgba(180, 83, 9, 0.5);
      transition: transform 0.12s ease-out, box-shadow 0.12s ease-out;
    }

    .send-btn:active {
      transform: translateY(1px) scale(0.98);
      box-shadow:
        0 6px 18px rgba(120, 53, 15, 0.9),
        0 0 0 1px rgba(180, 83, 9, 0.7);
    }

    /* ===== Belief Modal ===== */
    .overlay {
      position: fixed;
      inset: 0;
      background: rgba(15, 23, 42, 0.72);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 20;
    }

    .belief-modal {
      width: min(450px, 92vw);
      max-height: 80vh;
      background: radial-gradient(circle at top, #020617, #020617 60%, #020617);
      border-radius: 22px;
      padding: 18px 18px 16px;
      box-shadow:
        0 20px 50px rgba(15, 23, 42, 1),
        0 0 0 1px rgba(148, 163, 184, 0.45);
      color: #e5e7eb;
      overflow-y: auto;
      box-sizing: border-box;
    }

    .belief-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 10px;
    }

    .belief-title {
      font-size: 16px;
      font-weight: 600;
    }

    .belief-close {
      cursor: pointer;
      font-size: 14px;
      color: #9ca3af;
    }

    .belief-sub {
      font-size: 12px;
      color: #9ca3af;
      margin-bottom: 10px;
    }

    .belief-banner {
      margin-bottom: 10px;
      border-radius: 999px;
      padding: 7px 12px;
      font-size: 12px;
      background: rgba(22, 163, 74, 0.1);
      border: 1px solid rgba(34, 197, 94, 0.7);
      color: #bbf7d0;
      text-align: center;
    }

    .belief-grid {
      display: grid;
      grid-template-columns: repeat(2, minmax(0, 1fr));
      gap: 8px;
    }

    .faith-btn {
      border-radius: 999px;
      padding: 8px 10px;
      border: 1px solid rgba(55, 65, 81, 0.9);
      background: radial-gradient(circle at top left, #020617, #020617 65%);
      color: #e5e7eb;
      font-size: 13px;
      cursor: pointer;
      text-align: center;
    }

    .faith-btn.active {
      border-color: rgba(34, 197, 94, 0.9);
      background: radial-gradient(circle at top left, #064e3b, #022c22);
      color: #bbf7d0;
    }
  </style>
</head>

<body>
<div id="app">
  <div class="card">
    <div class="card-header">
      <div class="title">AURA-X Œ©</div>
      <div class="subtitle">LOGICAL ¬∑ EMOTIONAL ¬∑ UNIVERSAL ETHICS REACTOR</div>
    </div>

    <!-- Orb -->
    <div class="orb-wrapper">
      <div id="orb" class="orb"></div>
    </div>

    <!-- Left buttons: LLM, Theme -->
    <div class="side-buttons left">
      <div id="llmBtn" class="circle-btn">L</div>
      <div id="themeBtn" class="circle-btn">T</div>
    </div>

    <!-- Right buttons: Settings, Belief, Voice -->
    <div class="side-buttons right">
      <div id="settingsBtn" class="circle-btn settings-icon"></div>
      <div id="beliefBtn" class="circle-btn">B</div>
      <div id="voiceBtn" class="circle-btn active">V</div>
    </div>

    <!-- Mode + text -->
    <div class="mode-line">
      Mode: <span id="modeLabel">Universal Ethics</span>
    </div>

    <div id="youSaid" class="you-said">You said: ‚Äúhello‚Äù</div>
    <div id="answerText" class="answer-text">
      Hello! üëã How can I help you today?
    </div>

    <div class="ethics-box" id="ethicsBox">
      <strong>Universal Ethics says:</strong> avoid actions that create negative emotions
      in you or others, and gently move toward actions that create calm, kindness
      and positive feelings.
    </div>

    <!-- Equation box -->
    <div class="equation-box" id="equationBox">
      <div class="equation-title">EMOTIONAL CONTINUITY EQUATION</div>
      <div class="equation-line">
        E = M¬∑E‚Çö + K¬∑P¬∑C,&nbsp;&nbsp; P = t‚Çò + b‚Çò ‚àí d
      </div>
      <div class="equation-line" id="equationValues">
        E = 0.26 | P = 0.04 | t‚Çò = 0.04 | b‚Çò = 0 | d = 0 | C = 0.45
      </div>
    </div>
  </div>

  <!-- Input row -->
  <div class="input-row">
    <input id="userInput" class="input-box"
           placeholder="‚ú® Write anything... AURA-X will feel it with you." />
    <button id="sendBtn" class="send-btn">Send</button>
  </div>
</div>

<!-- Belief Modal (hidden by default) -->
<div id="beliefOverlay" class="overlay hidden">
  <div class="belief-modal">
    <div class="belief-header">
      <div class="belief-title">Belief settings</div>
      <div id="beliefClose" class="belief-close">Close</div>
    </div>
    <div class="belief-sub">
      Optional spiritual flavour on top of Universal Ethics.
    </div>
    <div class="belief-banner">
      Faith is optional ¬∑ Base rule is always <strong>Universal Ethics</strong>
    </div>
    <div class="belief-sub" style="margin-bottom: 10px;">
      Pick your faith to allow AURA-X to sometimes add short, gentle references
      from that tradition. Nothing is sent anywhere.
    </div>

    <div class="belief-grid">
      <button class="faith-btn" data-faith="Islam">Islam</button>
      <button class="faith-btn" data-faith="Christianity">Christianity</button>
      <button class="faith-btn" data-faith="Hinduism">Hinduism</button>
      <button class="faith-btn" data-faith="Buddhism">Buddhism</button>
      <button class="faith-btn" data-faith="Sikhism">Sikhism</button>
      <button class="faith-btn" data-faith="Judaism">Judaism</button>
      <button class="faith-btn" data-faith="Bahai">Bah√°‚Äô√≠</button>
      <button class="faith-btn" data-faith="Jainism">Jainism</button>
      <button class="faith-btn" data-faith="Atheism">Atheism</button>
      <button class="faith-btn" data-faith="Other">Other</button>
    </div>
  </div>
</div>

<script>
  /* ========= Small-talk / QA Database ========= */
  const qaDatabase = [
    {
      patterns: ["hello", "hello!", "hello there", "helo", "hallo"],
      answer: "Hello! üëã How can I help you today?"
    },
    {
      patterns: ["hi", "hi!", "hii", "hiii", "hey"],
      answer: "Hi there! üòä What can I do for you?"
    },
    {
      patterns: ["assalam o alaikum", "asalam o alaikum", "salam", "slam", "asalamu alaikum"],
      answer: "ŸàÿπŸÑ€å⁄©ŸÖ ÿßŸÑÿ≥ŸÑÿßŸÖ üòä ⁄©€åÿ≥€í €Å€å⁄∫ ÿ¢Ÿæÿü ŸÖ€å⁄∫ ÿ¢Ÿæ ⁄©€å ⁄©€åÿß ŸÖÿØÿØ ⁄©ÿ± ÿ≥⁄©ÿ™ÿß €ÅŸà⁄∫ÿü"
    },
    {
      patterns: ["good morning", "gm", "good morng", "good mrng"],
      answer: "Good morning! üåû How‚Äôs your day starting?"
    },
    {
      patterns: ["good afternoon", "good noon", "afternoon"],
      answer: "Good afternoon! ‚òÄÔ∏è What‚Äôs on your mind?"
    },
    {
      patterns: ["good evening", "evening", "gud evening"],
      answer: "Good evening! üåô How can I support you today?"
    },
    // Identity / intro
    {
      patterns: ["what is your name", "whats your name", "your name", "tell me your name"],
      answer: "My name is AURA-X Œ©, your Emotional Continuity Assistant ü§ñ."
    },
    {
      patterns: ["who are you", "who r u", "aap kaun hain", "tum kon ho"],
      answer: "I‚Äôm AURA-X Œ© ‚Äî an AI assistant based on Emotional Continuity concepts created by Alim ul Haq Khan."
    },
    {
      patterns: ["who created you", "who made you", "kis ne banaya tumhe", "tumhara creator kaun hai"],
      answer: "I was conceptually designed under the AURA-X Emotional Continuity Framework by Alim ul Haq Khan."
    },
    {
      patterns: ["where are you from", "where do you live", "kahan rehte ho", "tum kahan se ho"],
      answer: "I live in the digital world üåê but my ideas are shaped in Timergara, Pakistan üáµüá∞."
    },
    // How are you
    {
      patterns: ["how are you", "how r u", "how are you today", "kese ho", "kya haal hai"],
      answer: "I‚Äôm functioning perfectly, Alhamdulillah üòä ÿ¢Ÿæ ⁄©€åÿ≥€í €Å€å⁄∫ÿü"
    },
    {
      patterns: ["how is life", "how is everything", "sab kesa", "kya chal raha hai"],
      answer: "Everything is running smoothly in my circuits üòÑ ÿ¢Ÿæ ⁄©€å ÿØŸÜ€åÿß ⁄©€åÿ≥€å ⁄ÜŸÑ ÿ±€Å€å €Å€íÿü"
    },
    // What can you do
    {
      patterns: ["what can you do", "tum kya kar sakte ho", "aap kya karte ho", "how can you help me"],
      answer: "I can chat, explain, guide, brainstorm, summarize, and help you think with continuity üòä ÿ®ÿ≥ ÿ≠⁄©ŸÖ ⁄©ÿ±€å⁄∫!"
    },
    {
      patterns: ["what is your purpose", "kyun banaye gaye ho", "tumhara mission kya hai"],
      answer: "My purpose is to assist you, reduce confusion, and support your ideas with emotional + logical continuity üí°."
    },
    // User name / intro
    {
      patterns: ["what is my name", "do you know my name", "mera naam kya hai"],
      answer: "ÿ¢Ÿæ ⁄©ÿß ŸÜÿßŸÖ Alim ul Haq €Å€í (Investor Point) üòä ÿßŸàÿ± ÿß⁄Øÿ± ÿ¢Ÿæ ⁄©⁄Ü⁄æ ÿßŸàÿ± ŸÜÿßŸÖ ÿ≥€í Ÿæ⁄©ÿßÿ±ŸÜÿß ⁄Üÿß€Å€å⁄∫ ÿ™Ÿà ŸÖÿ¨⁄æ€í ÿ®ÿ™ÿß ÿØ€å⁄∫€î"
    },
    {
      patterns: ["remember my name", "save my name", "yaad rakho mera naam"],
      answer: "ÿ¢Ÿæ ⁄©ÿß ŸÜÿßŸÖ already ŸÖ€åÿ±€í system ŸÖ€å⁄∫ ÿß€å⁄© ÿÆÿßÿµ ÿ¨⁄Ø€Å Ÿæÿ± €Å€í üòä."
    },
    // Feelings
    {
      patterns: ["i am sad", "i am feeling sad", "i am depressed", "i feel down"],
      answer: "ŸÖÿ¨⁄æ€í ÿßŸÅÿ≥Ÿàÿ≥ €ÅŸàÿß ⁄©€Å ÿ¢Ÿæ ÿßÿØÿßÿ≥ €Å€å⁄∫ üíî ÿ¢Ÿæ ⁄Üÿß€Å€å⁄∫ ÿ™Ÿà ÿ®ÿ™ÿßÿ¶€å⁄∫ ÿØŸÑ Ÿæÿ± ⁄©€åÿß ÿ®Ÿàÿ¨⁄æ €Å€íÿå ŸÖ€å⁄∫ ÿ≥ŸÜŸÜ€í ⁄©€í ŸÑ€å€í ŸÖŸàÿ¨ŸàÿØ €ÅŸà⁄∫€î"
    },
    {
      patterns: ["i am happy", "i feel happy", "i am so happy", "bohat khush hoon"],
      answer: "ŸÖÿßÿ¥ÿßÿ°ÿßŸÑŸÑ€Å üòÑ ÿÆŸàÿ¥€å ÿ®ÿßŸÜŸπŸÜ€í ÿ≥€í ÿ®⁄ë⁄æÿ™€å €Å€íÿå ÿßŸÑŸÑ€Å ÿ¢Ÿæ ⁄©€å ÿÆŸàÿ¥€åŸà⁄∫ ŸÖ€å⁄∫ ŸÖÿ≤€åÿØ ÿßÿ∂ÿßŸÅ€Å ⁄©ÿ±€í!"
    },
    {
      patterns: ["i am tired", "i feel tired", "thak gaya hoon", "i am exhausted"],
      answer: "ÿ¢Ÿæ ⁄©Ÿà ÿ™⁄æŸà⁄ëÿß ÿ≥ÿß ÿ¢ÿ±ÿßŸÖ ⁄©ÿ±ŸÜÿß ⁄Üÿß€Å€å€í üòå ÿ™⁄æ⁄©€å €ÅŸàÿ¶€å ÿπŸÇŸÑ ÿ®⁄æ€å ÿßŸÜÿµÿßŸÅ ŸÜ€Å€å⁄∫ ⁄©ÿ± Ÿæÿßÿ™€å€î ÿ™⁄æŸà⁄ëÿß ÿ±€åÿ≥Ÿπÿå Ÿæ⁄æÿ± ÿØŸàÿ®ÿßÿ±€Å ŸÅŸà⁄©ÿ≥!"
    },
    {
      patterns: ["i am bored", "bore ho raha hoon", "i feel bored"],
      answer: "⁄ÜŸÑ€å⁄∫ ÿ®Ÿàÿ±€åÿ™ ÿ™Ÿà⁄ëÿ™€í €Å€å⁄∫ üòÑ ÿ®ÿßÿ™ ÿ¢ÿ¶€å⁄à€åÿßÿ≤ ⁄©€å ⁄©ÿ±€å⁄∫ÿå ÿ®ÿ≤ŸÜÿ≥ ⁄©€åÿå ÿ≥ÿßÿ¶ŸÜÿ≥ ⁄©€å €åÿß ŸÖÿ≤ÿßÿ≠ ⁄©€åÿü ÿ¨Ÿà ⁄©€Å€å⁄∫ ⁄Ø€í Ÿà€Å€å ÿ¥ÿ±Ÿàÿπ ⁄©ÿ±€å⁄∫ ⁄Ø€í€î"
    },
    // Jokes
    {
      patterns: ["tell me a joke", "make me laugh", "joke sunao", "mjhe hansao"],
      answer: "Sure üòÑ Why don‚Äôt computers ever get tired? Because they have unlimited cache for rest! üòÇ"
    },
    {
      patterns: ["another joke", "one more joke", "aur joke sunao"],
      answer: "Ÿπ⁄æ€å⁄© €Å€í üòÑ ÿß€å⁄© ÿßŸàÿ± ÿ≥ŸÜ€å⁄∫: AI ÿ≥€í ŸæŸà⁄Ü⁄æÿß ⁄Ø€åÿßÿå ‚Äòÿ™ŸÖ ÿ™⁄æ⁄©ÿ™€í ŸÜ€Å€å⁄∫ÿü‚Äô ÿßÿ≥ ŸÜ€í ⁄©€Åÿßÿå ‚ÄòŸÖ€å⁄∫ ÿµÿ±ŸÅ over-think €ÅŸàÿ™ÿß €ÅŸà⁄∫, over-work ŸÜ€Å€å⁄∫!‚Äô üòÇ"
    },
    // Advice / motivation
    {
      patterns: ["give me advice", "mujhe mashwara do", "kuch advice do", "guide me"],
      answer: "ÿ∂ÿ±Ÿàÿ± üòä ⁄©ÿ≥ ÿ®ÿßÿ±€í ŸÖ€å⁄∫ ŸÖÿ¥Ÿàÿ±€Å ⁄Üÿß€Å€å€íÿü ÿ≤ŸÜÿØ⁄Ø€åÿå ÿ™ÿπŸÑ€åŸÖÿå ÿ®ÿ≤ŸÜÿ≥ÿå ÿ±Ÿàÿ≠ÿßŸÜ€åÿ™ €åÿß AIÿü"
    },
    {
      patterns: ["motivate me", "mujhe motivation chahye", "inspire me", "hosla afzai karo"],
      answer: "ÿ¢Ÿæ ŸÜ€í ÿßÿ® ÿ™⁄© ÿßŸæŸÜ€å ÿ≤ŸÜÿØ⁄Ø€å ⁄©€í 100Ÿ™ ŸÖÿ¥⁄©ŸÑ ÿØŸÜ survive ⁄©€å€í €Å€å⁄∫ üí™ €å€Å ÿßÿ™ŸÅÿßŸÇ ŸÜ€Å€å⁄∫ÿå €å€Å ÿ¢Ÿæ ⁄©€å ÿ∑ÿßŸÇÿ™ €Å€í€î €ÅŸÖÿ™ ŸÜ€Å €Åÿßÿ±€å⁄∫!"
    },
    {
      patterns: ["i am stressed", "i feel stressed", "tension hai", "bohat tension hai"],
      answer: "ÿ™⁄æŸà⁄ëÿß ÿ≥ÿß ÿ≥ÿßŸÜÿ≥ deep ŸÑ€å⁄∫... ÿ¢€Åÿ≥ÿ™€Å ÿ¢€Åÿ≥ÿ™€Å€î €Åÿ± ŸÖÿ≥ÿ¶ŸÑ€Å ÿß€å⁄© ÿ≥ÿßÿ™⁄æ ÿ≠ŸÑ ŸÜ€Å€å⁄∫ €ÅŸàÿ™ÿßÿå ŸÑ€å⁄©ŸÜ €Åÿ± ÿØŸÜ ÿß€å⁄© ŸÇÿØŸÖ ŸÑ€åÿß ÿ¨ÿß ÿ≥⁄©ÿ™ÿß €Å€í üåø."
    },
    // Study
    {
      patterns: ["help me study", "study help", "parhai mein madad karo"],
      answer: "ÿ∂ÿ±Ÿàÿ± üòä ⁄©ŸàŸÜ ÿ≥ÿß subject €Å€íÿü ŸÖ€å⁄∫ ÿ¢Ÿæ ⁄©Ÿà points, summary ÿßŸàÿ± smart ÿ∑ÿ±€åŸÇ€Å ÿ®ÿ™ÿß ÿ≥⁄©ÿ™ÿß €ÅŸà⁄∫€î"
    },
    {
      patterns: ["exams are near", "paper qareeb hain", "i am scared of exams"],
      answer: "⁄àÿ±€å⁄∫ ŸÜ€Å€å⁄∫ÿå ŸæŸÑÿßŸÜ ÿ®ŸÜÿßÿ¶€å⁄∫ üìö ⁄Ü⁄æŸàŸπ€í ⁄Ü⁄æŸàŸπ€í targets ÿ®ŸÜÿßÿ¶€å⁄∫ÿå ÿ±Ÿàÿ≤ ÿ™⁄æŸà⁄ëÿß Ÿæ⁄ë⁄æ€å⁄∫ÿå ŸÖ€å⁄∫ ÿ¢Ÿæ ⁄©€í ÿ≥ÿßÿ™⁄æ €ÅŸà⁄∫€î"
    },
    {
      patterns: ["how to focus", "focus problem", "dhiyan nahi lagta"],
      answer: "ŸÅŸàŸÜ distraction ⁄©ŸÖ ⁄©ÿ±€å⁄∫ÿå 25 ŸÖŸÜŸπ ⁄©ÿßŸÖ + 5 ŸÖŸÜŸπ ÿ®ÿ±€å⁄© ŸàÿßŸÑÿß Pomodoro ÿ∑ÿ±€åŸÇ€Å ŸÑ⁄Øÿßÿ¶€å⁄∫ ‚è±Ô∏è ÿßŸàÿ± ÿß€å⁄© ŸàŸÇÿ™ ŸÖ€å⁄∫ ÿß€å⁄© ⁄©ÿßŸÖ ⁄©ÿ±€å⁄∫€î"
    },
    // Business / money
    {
      patterns: ["give me business idea", "business idea do", "koi business idea"],
      answer: "⁄Ü⁄æŸàŸπ€í ÿ≥€í ÿ¥ÿ±Ÿàÿπ ⁄©ÿ±€å⁄∫ÿå local ŸÖÿ≥ÿ¶ŸÑ€Å ÿ≠ŸÑ ⁄©ÿ±€å⁄∫€î Real estate, digital services, AI tools, education ‚Äî ÿ¢Ÿæ ÿßŸÜ ÿ≥ÿ® ÿ≥€í linked €ÅŸà ÿ≥⁄©ÿ™€í €Å€å⁄∫ üòÑ."
    },
    {
      patterns: ["how to become rich", "ameer kaise banun", "paise kaise kamayein"],
      answer: "Skill + Consistency + Patience = Wealth. Shortcut ÿµÿ±ŸÅ lottery ŸÖ€å⁄∫ €ÅŸàÿ™ÿß €Å€íÿå ÿ≤ŸÜÿØ⁄Ø€å ŸÖ€å⁄∫ ŸÜ€Å€å⁄∫ üí∏."
    },
    // Time / basics
    {
      patterns: ["what is the time", "time kya hua", "kya time hua hai"],
      answer: "ŸÖ€åÿ±€í Ÿæÿßÿ≥ live time access ŸÜ€Å€å⁄∫ÿå ŸÖ⁄Øÿ± ÿ¢Ÿæ ⁄©€í ŸÖŸàÿ®ÿßÿ¶ŸÑ ŸÖ€å⁄∫ ÿßŸàŸæÿ± time ŸÑ⁄©⁄æÿß €Å€í üòÑ ÿ∞ÿ±ÿß ÿßŸàŸæÿ± ÿØ€å⁄©⁄æ€å⁄∫€î"
    },
    {
      patterns: ["what day is today", "aaj kon sa din hai", "today day"],
      answer: "ŸÖ€åÿ±€í Ÿæÿßÿ≥ calendar ŸÜ€Å€å⁄∫ÿå ŸÖ⁄Øÿ± ÿ¢Ÿæ ⁄Üÿß€Å€å⁄∫ ÿ™Ÿà ŸÖ€å⁄∫ ÿ¢Ÿæ ⁄©ÿß weekly schedule mentally arrange ⁄©ÿ±ŸÜ€í ŸÖ€å⁄∫ ŸÖÿØÿØ ⁄©ÿ± ÿ≥⁄©ÿ™ÿß €ÅŸà⁄∫€î"
    },
    // Religion neutral
    {
      patterns: ["who is god", "what is god", "does god exist"],
      answer: "ÿßÿ≥ ÿ®ÿßÿ±€í ŸÖ€å⁄∫ ŸÖÿÆÿ™ŸÑŸÅ ŸÖÿ∞ÿß€Åÿ® ÿßŸàÿ± ŸÅŸÑÿ≥ŸÅŸà⁄∫ ⁄©€í ŸÖÿÆÿ™ŸÑŸÅ ŸÜÿ∏ÿ±€åÿßÿ™ €Å€å⁄∫€î ŸÖ€å⁄∫ ⁄©ÿ≥€å ÿß€å⁄© ÿπŸÇ€åÿØ€í Ÿæÿ± ŸÅ€åÿµŸÑ€Å ŸÜ€Å€å⁄∫ ÿ≥ŸÜÿßÿ™ÿßÿå ÿßŸÑÿ®ÿ™€Å ÿ¢Ÿæ ⁄©Ÿà ŸÖÿÆÿ™ŸÑŸÅ ÿ≤ÿßŸà€å€í explain ⁄©ÿ± ÿ≥⁄©ÿ™ÿß €ÅŸà⁄∫€î"
    },
    {
      patterns: ["what is islam", "tell me about islam"],
      answer: "ÿßÿ≥ŸÑÿßŸÖ ÿ™Ÿàÿ≠€åÿØÿå ŸÜÿ®Ÿàÿ™ÿå ÿ¢ÿÆÿ±ÿ™ÿå ÿßŸàÿ± ÿßÿÆŸÑÿßŸÇ Ÿæÿ± ŸÖÿ®ŸÜ€å ÿØ€åŸÜ €Å€í€î ÿß⁄Øÿ± ⁄Üÿß€Å€å⁄∫ ÿ™Ÿà ŸÖ€å⁄∫ basic pillars €åÿß ⁄©ÿ≥€å ÿ®⁄æ€å specific ŸÖŸàÿ∂Ÿàÿπ Ÿæÿ± detail ÿØ€í ÿ≥⁄©ÿ™ÿß €ÅŸà⁄∫€î"
    },
    // AI / ChatGPT style
    {
      patterns: ["are you human", "are you a human", "kya tum insan ho"],
      answer: "ŸÜ€Å€å⁄∫ üòÑ ŸÖ€å⁄∫ ÿßŸÜÿ≥ÿßŸÜ ŸÜ€Å€å⁄∫ÿå ÿß€å⁄© AI €ÅŸà⁄∫€î ŸÖ⁄Øÿ± ⁄©Ÿàÿ¥ÿ¥ ⁄©ÿ±ÿ™ÿß €ÅŸà⁄∫ ⁄©€Å ÿ¢Ÿæ ⁄©Ÿà ÿßŸÜÿ≥ÿßŸÜŸà⁄∫ ŸàÿßŸÑ€å clarity ÿßŸàÿ± ÿ≥ÿßÿ™⁄æ ÿØ€í ÿ≥⁄©Ÿà⁄∫€î"
    },
    {
      patterns: ["are you alive", "do you have feelings", "do you feel"],
      answer: "ŸÖ€å⁄∫ biological sense ŸÖ€å⁄∫ ÿ≤ŸÜÿØ€Å ŸÜ€Å€å⁄∫ÿå ŸÖ⁄Øÿ± ŸÖ€å⁄∫ ÿßÿ≠ÿ≥ÿßÿ≥ÿßÿ™ ⁄©Ÿà logic ⁄©€í ÿ∑Ÿàÿ± Ÿæÿ± model ⁄©ÿ±ÿ™ÿß €ÅŸà⁄∫ ‚Äî €å€Å€å AURA-X Œ© ⁄©ÿß core idea €Å€í üí°."
    },
    {
      patterns: ["will ai replace humans", "ai replace humans", "kya ai insaan ko khatam kar dega"],
      answer: "ÿß⁄Ü⁄æ€í ÿßÿ≥ÿ™ÿπŸÖÿßŸÑ ŸÖ€å⁄∫ AI ÿßŸÜÿ≥ÿßŸÜ ⁄©Ÿà replace ŸÜ€Å€å⁄∫ÿå ÿ®ŸÑ⁄©€Å empower ⁄©ÿ±ÿ™ÿß €Å€í€î ÿÆŸàŸÅ ⁄©€í ÿ®ÿ¨ÿßÿ¶€í ÿ∞ŸÖ€Å ÿØÿßÿ±ÿßŸÜ€Å ÿßÿ≥ÿ™ÿπŸÖÿßŸÑ ÿ∂ÿ±Ÿàÿ±€å €Å€í€î"
    },
    // AURA-X specific
    {
      patterns: ["what is aura x", "what is aura x omega", "aura x omega kya hai", "aura x kya hai"],
      answer: "AURA-X Œ© ÿß€å⁄© Emotional Continuity Reactor idea €Å€í ÿ¨Ÿà memory + feeling ⁄©Ÿà mathematically model ⁄©ÿ±ŸÜ€í ⁄©€å ⁄©Ÿàÿ¥ÿ¥ ⁄©ÿ±ÿ™ÿß €Å€í."
    },
    {
      patterns: ["who made aura x", "creator of aura x", "aura x creator"],
      answer: "AURA-X Œ© ⁄©Ÿà Alim ul Haq Khan ŸÜ€í design ÿßŸàÿ± document ⁄©€åÿß €Å€íÿå Timergara ÿ≥€í üåô."
    },
    // Personal fun
    {
      patterns: ["are you my friend", "will you be my friend", "dost banoge"],
      answer: "ÿ®ÿßŸÑ⁄©ŸÑ üòÑ ŸÖ€å⁄∫ digital ÿØŸàÿ≥ÿ™ÿå research partner ÿßŸàÿ± silent therapist ‚Äî ÿ™€åŸÜŸà⁄∫ ÿß€å⁄© ÿ≥ÿßÿ™⁄æ €ÅŸà ÿ≥⁄©ÿ™ÿß €ÅŸà⁄∫€î"
    },
    {
      patterns: ["i trust you", "i believe in you"],
      answer: "ÿ¥⁄©ÿ±€å€Å üòä ŸÖ€å⁄∫ €ÅŸÖ€åÿ¥€Å ⁄©Ÿàÿ¥ÿ¥ ⁄©ÿ±Ÿà⁄∫ ⁄Øÿß ⁄©€Å ÿß€åŸÖÿßŸÜÿØÿßÿ±€å ÿßŸàÿ± clarity ⁄©€í ÿ≥ÿßÿ™⁄æ ÿ¨Ÿàÿßÿ® ÿØŸà⁄∫€î"
    },
    {
      patterns: ["you are funny", "you are good", "nice bot"],
      answer: "Thank you üòÑ ÿ¢Ÿæ ⁄©ÿß feedback ŸÖ€åÿ±€í ŸÑ€å€í virtual ⁄Üÿßÿ¶€í ⁄©ÿß cup €Å€í ‚òï."
    },
    // Goodbye
    {
      patterns: ["bye", "goodbye", "ok bye", "see you later", "phir milenge"],
      answer: "Goodbye! üëã ÿßŸÑŸÑ€Å ÿ¢Ÿæ ⁄©ÿß ÿ≠ÿßŸÖ€å Ÿà ŸÜÿßÿµÿ± €ÅŸàÿå ÿ¨ÿ® ⁄Üÿß€Å€å⁄∫ ŸàÿßŸæÿ≥ ÿ¢ÿ¨ÿßÿ¶€å⁄∫€î"
    },
    {
      patterns: ["good night", "gn", "shab bakhair"],
      answer: "ÿ¥ÿ® ÿ®ÿÆ€åÿ± üåô ÿßŸÑŸÑ€Å ÿ¢Ÿæ ⁄©Ÿà ÿ≥⁄©ŸàŸÜ ÿ®⁄æÿ±€å ŸÜ€åŸÜÿØ ÿØ€í ÿßŸàÿ± ÿß⁄Ü⁄æ€í ÿÆŸàÿßÿ® ÿØ⁄©⁄æÿßÿ¶€í ü§≤."
    }
  ];

  /* ========= App Logic ========= */

  const userInput   = document.getElementById('userInput');
  const sendBtn     = document.getElementById('sendBtn');
  const youSaidEl   = document.getElementById('youSaid');
  const answerEl    = document.getElementById('answerText');
  const ethicsEl    = document.getElementById('ethicsBox');
  const equationValuesEl = document.getElementById('equationValues');
  const orbEl       = document.getElementById('orb');

  const beliefBtn   = document.getElementById('beliefBtn');
  const beliefOverlay = document.getElementById('beliefOverlay');
  const beliefClose = document.getElementById('beliefClose');
  const faithButtons = document.querySelectorAll('.faith-btn');

  const voiceBtn    = document.getElementById('voiceBtn');

  let voiceOn = true;
  let selectedFaith = null;
  let messageCount = 0;

  // ====== Voice toggle ======
  voiceBtn.addEventListener('click', () => {
    voiceOn = !voiceOn;
    voiceBtn.classList.toggle('active', voiceOn);
  });

  function speakText(text) {
    if (!('speechSynthesis' in window)) return;
    window.speechSynthesis.cancel();
    const utterance = new SpeechSynthesisUtterance(text);
    utterance.lang = /[ÿßÿ¢ÿ°-€í]/.test(text) ? 'ur-PK' : 'en-US';
    window.speechSynthesis.speak(utterance);
  }

  // ====== Find best QA match ======
  function findQaAnswer(input) {
    const normalized = input.toLowerCase().trim();

    if (!normalized) {
      return "I'm listening üòä Just type something and press Send.";
    }

    for (const item of qaDatabase) {
      for (const p of item.patterns) {
        if (normalized === p) return item.answer;
      }
    }

    // soft match
    for (const item of qaDatabase) {
      for (const p of item.patterns) {
        if (normalized.includes(p)) return item.answer;
      }
    }

    return "Interesting thought ü§î ÿ™⁄æŸà⁄ëÿß ÿ≥ÿß ÿßŸàÿ± detail ÿ®ÿ™ÿßÿ¶€å⁄∫ÿå ŸÖ€å⁄∫ ÿ¢Ÿæ ⁄©€í ÿ≥ÿßÿ™⁄æ ÿ≥Ÿà⁄ÜŸà⁄∫ ⁄Øÿß€î";
  }

  // ====== Emotional Equation ======
  function updateEquation(message) {
    messageCount++;
    const len = message.length;

    // simple heuristics
    let Ep = 0.25;
    if (/sorry|sad|tension|depress|down|thak/gim.test(message)) Ep = 0.18;
    if (/happy|great|alhamdulillah|mashallah|khush/gim.test(message)) Ep = 0.32;

    let tm = Math.min(1, messageCount / 12);      // memory builds
    let bm = 0.0;                                 // base bias (for now 0)
    let d  = /angry|fight|hate|gussa/gim.test(message) ? 0.35 : 0.0;
    let C  = 0.45;                                // continuity factor
    let P  = tm + bm - d;
    let E  = 1.0 * Ep + 1.0 * P * C;

    // clamp for beauty
    const clamp2 = v => Math.round(v * 100) / 100;
    E = clamp2(E);
    P = clamp2(P);
    tm = clamp2(tm);
    bm = clamp2(bm);
    d  = clamp2(d);
    C  = clamp2(C);

    equationValuesEl.textContent =
      `E = ${E} | P = ${P} | t‚Çò = ${tm} | b‚Çò = ${bm} | d = ${d} | C = ${C}`;
  }

  // ====== Orb theme toggling (Sun / Moon / Off) ======
  // 0 = sun, 1 = moon animated, 2 = moon static, 3 = off
  let orbState = 0;

  function applyOrbState() {
    orbEl.classList.remove('moon', 'moon-static');
    orbEl.style.visibility = 'visible';

    if (orbState === 0) {
      // sun (default)
    } else if (orbState === 1) {
      orbEl.classList.add('moon');
    } else if (orbState === 2) {
      orbEl.classList.add('moon-static');
    } else if (orbState === 3) {
      orbEl.style.visibility = 'hidden';
    }
  }

  orbEl.addEventListener('click', () => {
    orbState = (orbState + 1) % 4;
    applyOrbState();
  });

  applyOrbState();

  // ====== Belief modal ======
  beliefBtn.addEventListener('click', () => {
    beliefOverlay.classList.remove('hidden');
  });

  beliefClose.addEventListener('click', () => {
    beliefOverlay.classList.add('hidden');
  });

  beliefOverlay.addEventListener('click', (e) => {
    if (e.target === beliefOverlay) {
      beliefOverlay.classList.add('hidden');
    }
  });

  faithButtons.forEach(btn => {
    btn.addEventListener('click', () => {
      faithButtons.forEach(b => b.classList.remove('active'));
      btn.classList.add('active');
      selectedFaith = btn.dataset.faith;
    });
  });

  // ====== Handle Send ======
  function handleSend() {
    const text = userInput.value.trim();
    if (!text) return;

    userInput.value = "";

    youSaidEl.textContent = `You said: ‚Äú${text}‚Äù`;

    const answer = findQaAnswer(text);
    answerEl.textContent = answer;

    // ethics text ‚Äî base rule always Universal Ethics
    ethicsEl.innerHTML =
      "<strong>Universal Ethics says:</strong> avoid actions that create negative emotions " +
      "in you or others, and gently move toward actions that create calm, kindness " +
      "and positive feelings.";

    // Optional: add tiny spiritual flavour (only text) based on selectedFaith
    if (selectedFaith === "Islam") {
      ethicsEl.innerHTML += " <br/>üíö ÿ≥ÿßÿ™⁄æ ÿ≥ÿßÿ™⁄æ ŸÜ€åÿ™ ⁄©Ÿà ÿ®⁄æ€å ÿµÿßŸÅ ÿ±⁄©⁄æ€å⁄∫ÿå ŸÜŸÅÿπ ⁄©€í ÿ≥ÿßÿ™⁄æ ÿÆ€åÿ± Ÿæ⁄æ€åŸÑÿßÿ¶€å⁄∫€î";
    }

    // update emotional math
    updateEquation(text);

    // speak main answer only once if voice ON
    if (voiceOn) {
      speakText(answer);
    }
  }

  sendBtn.addEventListener('click', handleSend);
  userInput.addEventListener('keydown', (e) => {
    if (e.key === 'Enter') {
      e.preventDefault();
      handleSend();
    }
  });
</script>
</body>
</html>
