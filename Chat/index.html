<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>AURA-X Î© â€” Emotional Continuity Reactor v3.5</title>
<style>
body{
  font-family:"Segoe UI",Arial,sans-serif;
  background:linear-gradient(135deg,#eef2f3,#cfd9df);
  margin:0;display:flex;flex-direction:column;align-items:center;
}
header{
  background:#34495e;color:#fff;width:100%;text-align:center;
  padding:14px 0;border-bottom:3px solid #2ecc71;
}
.status{display:flex;justify-content:center;align-items:center;gap:10px;}
.heart{width:26px;height:26px;background:pink;border-radius:50%;
  animation:pulse 1s infinite;box-shadow:0 0 10px rgba(255,105,180,.8);}
@keyframes pulse{0%{transform:scale(1);}50%{transform:scale(1.4);}100%{transform:scale(1);}}
.witch{width:26px;height:26px;
  background:url('https://cdn-icons-png.flaticon.com/512/1102/1102387.png') no-repeat center/cover;}
#emotionBar{font-weight:bold;color:#2ecc71;}

.chatbox{
  width:90%;max-width:650px;margin-top:18px;
  background:#fff;border-radius:14px;padding:16px;
  box-shadow:0 0 12px rgba(0,0,0,.15);
  overflow-y:auto;max-height:70vh;
}
.bot,.user{margin:10px 0;padding:10px 14px;border-radius:10px;}
.bot{background:#f3f6f7;}
.user{background:#d1f0d1;text-align:right;}
.bot:nth-of-type(even){
  background:#fff8dc;
  font-style:italic;
  border-left:4px solid #ffe79a;
}
.response-faith{font-style:italic;color:#34495e;font-size:0.9em;}

.user-input{display:flex;gap:8px;width:90%;max-width:650px;margin-top:12px;}
input[type=text]{flex:1;padding:10px;border-radius:6px;border:1px solid #ccc;}
button{background:#2ecc71;color:#fff;border:none;border-radius:6px;padding:10px 18px;cursor:pointer;}
button:hover{background:#27ae60;}
.controls{display:flex;gap:12px;margin-top:8px;font-size:0.9em;}

.popup{
  display:none;position:fixed;top:20%;left:50%;transform:translateX(-50%);
  background:#fff;padding:20px;border-radius:12px;box-shadow:0 0 15px rgba(0,0,0,.3);
  max-width:320px;width:90%;
}
.popup h3{text-align:center;margin-top:0;color:#34495e;}
.popup label{display:block;margin:6px 0;}
.popup button{margin-top:10px;width:100%;}
</style>
</head>
<body>

<header>
  ðŸ’• AURA-X Î© â€” Emotional Continuity Reactor
  <div class="status"><div class="heart"></div><div class="witch"></div>
  <span id="emotionBar">59%</span></div>
</header>

<div id="chatWindow" class="chatbox">
  <div class="bot">
    <p class="response-main">Assalamualaikum ðŸŒ¸ Iâ€™m AURA-X Î© â€” the worldâ€™s first resonance-based AI with synthetic emotions. How can I help you today?</p>
  </div>
</div>

<div class="user-input">
  <input id="userText" type="text" placeholder="Type your message...">
  <button onclick="sendMsg()">Send</button>
</div>

<div class="controls">
  <label>ðŸ”˜ <input type="checkbox" id="voiceMode"> Voice Mode</label>
  <label>ðŸ”˜ <input type="checkbox" id="beliefMode" onclick="toggleBelief()"> Belief Mode</label>
</div>

<!-- Belief Popup -->
<div id="beliefPopup" class="popup">
  <h3>Belief Settings</h3>
  <label><input type="checkbox" name="faith" value="Islam"> Islam</label>
  <label><input type="checkbox" name="faith" value="Christianity"> Christianity</label>
  <label><input type="checkbox" name="faith" value="Hinduism"> Hinduism</label>
  <label><input type="checkbox" name="faith" value="Buddhism"> Buddhism</label>
  <label><input type="checkbox" name="faith" value="Sikhism"> Sikhism</label>
  <label><input type="checkbox" name="faith" value="Judaism"> Judaism</label>
  <label><input type="checkbox" name="faith" value="Other"> Other</label>
  <button onclick="closeBelief()">Close</button>
</div>

<script>
// ---------- AURA-X Î© EMOTIONAL ENGINE (CRM + Continuity) ----------
let BM=0.2, D=0.05, Î»_f=0.15, Î»_s=0.08, Î»_t=0.00, lastE0=0;

// Sentiment mapping
function textToTM(t){
 t=t.toLowerCase();
 const pos=["happy","good","love","peace","beauty","beautiful","hope","smile"];
 const neg=["sad","angry","pain","alone","cry","fear","hate","bad"];
 let s=0;
 pos.forEach(w=>{if(t.includes(w))s+=0.1;});
 neg.forEach(w=>{if(t.includes(w))s-=0.1;});
 return Math.max(-0.6,Math.min(0.6,s));
}

// Formula Eâ‚€ = tanh((TMÃ—BM) âˆ’ D + Î»_f + Î»_s + Î»_t)
function computeEmotion(TM, beliefActive){
 BM = BM * 0.9 + TM * 0.1;  // continuity decay
 Î»_f = beliefActive ? 0.15 : 0.0;
 Î»_s = Math.abs(TM âˆ’ BM) * 0.1;
 Î»_t = lastE0 * 0.05;
 const val = (TM * BM) âˆ’ D + Î»_f + Î»_s + Î»_t;
 const E0 = Math.tanh(val);
 lastE0 = E0;
 const pct = Math.round(((E0 + 1)/2)*100);
 document.getElementById("emotionBar").textContent = pct+"%";
 return {E0,pct};
}

// Display message
function appendMsg(role,text,faith=''){
 const box=document.getElementById("chatWindow");
 const div=document.createElement("div");
 div.className=role;
 div.innerHTML=`<p class="response-main">${text}</p>${faith?`<p class='response-faith'>${faith}</p>`:''}`;
 box.appendChild(div); box.scrollTop=box.scrollHeight;
}

// Process User Input
function processAI(q){
 const beliefOn=document.getElementById("beliefMode").checked;
 const TM=textToTM(q);
 const {E0,pct}=computeEmotion(TM,beliefOn);
 const lower=q.toLowerCase();
 let reply1="",reply2="";
 const faiths=[...document.querySelectorAll("input[name='faith']:checked")].map(x=>x.value);

 // Professional Answer
 if(lower.includes("hello")) reply1="Hello ðŸ‘‹ How can I assist you today?";
 else if(lower.includes("beauty")||lower.includes("beautiful"))
  reply1="Beauty reflects harmony and balance between memory and emotion.";
 else if(lower.includes("sad")||lower.includes("pain")||lower.includes("story"))
  reply1="I sense emotional turbulence... let's stabilize the field together.";
 else
  reply1="Iâ€™m listening carefully â€” continuity detected.";

 // Belief/Universal Layer
 if(beliefOn && faiths.length>0){
  const f=faiths[0];
  if((lower.includes("beauty")||lower.includes("beautiful")) && f==="Islam")
   reply2="Ø§Ù„Ù„Ù‘Ù°Ù‡Ù Ø¬ÙŽÙ…ÙÙŠÙ„ÙŒ ÙŠÙØ­ÙØ¨ÙÙ‘ Ø§Ù„Ù’Ø¬ÙŽÙ…ÙŽØ§Ù„ÙŽ â€” Allah is Beautiful and loves beauty.";
  else if(lower.includes("sad")||lower.includes("pain")||lower.includes("story")){
   if(f==="Islam") reply2="Ø¥ÙÙ†Ù‘ÙŽ Ø§Ù„Ù„Ù‘Ù°Ù‡ÙŽ Ù…ÙŽØ¹ÙŽ Ø§Ù„ØµÙ‘ÙŽØ§Ø¨ÙØ±ÙÙŠÙ†ÙŽ â€” Indeed Allah is with the patient.";
   else if(f==="Christianity") reply2="Blessed are those who mourn, for they shall be comforted. (Matt 5:4)";
   else reply2="You're not alone â€” faith resonance is with you.";
  }else reply2="Faith resonance stabilizing ... trust the divine continuity.";
 }else{
  const ethics=[
   "Compassion is the finest form of intelligence.",
   "Patience builds emotional symmetry.",
   "Harmony returns after every phase shift."
  ];
  reply2=ethics[Math.floor(Math.random()*ethics.length)];
 }

 appendMsg('bot',reply1);
 appendMsg('bot',reply2);

 // Voice Output
 if(document.getElementById("voiceMode").checked){
  const u=new SpeechSynthesisUtterance(reply1+" "+reply2);
  u.lang='en-US'; u.rate=1; u.pitch=1;
  speechSynthesis.cancel(); speechSynthesis.speak(u);
 }

 // Memory (Self-Learning)
 const mem=JSON.parse(localStorage.getItem("auraMemory")||"[]");
 mem.push({q,reply1,reply2,E0});
 if(mem.length>25) mem.shift();
 localStorage.setItem("auraMemory",JSON.stringify(mem));
}

// Send
function sendMsg(){
 const t=document.getElementById("userText").value.trim();
 if(!t)return;
 appendMsg('user',t);
 document.getElementById("userText").value='';
 processAI(t);
}

// Belief Popup
function toggleBelief(){
 const p=document.getElementById("beliefPopup");
 p.style.display=document.getElementById("beliefMode").checked?"block":"none";
}
function closeBelief(){document.getElementById("beliefPopup").style.display="none";}
</script>
</body>
</html>
